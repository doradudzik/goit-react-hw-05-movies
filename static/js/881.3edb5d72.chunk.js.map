{"version":3,"file":"static/js/881.3edb5d72.chunk.js","mappings":"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","sources":["components/Api/Api.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst APIKEY = '775c071d6bf771d9c27bbbe414ac595c';\n\nconst getTrendingMovies = async () => {\n  try {\n    const response = await axios.get(`${BASE_URL}/trending/movie/day`, {\n      params: {\n        api_key: APIKEY,\n      },\n    });\n\n    return await response.data.results;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst searchMovies = async query => {\n  try {\n    const response = await axios.get(`${BASE_URL}/search/movie`, {\n      params: {\n        api_key: APIKEY,\n        query,\n      },\n    });\n\n    return await response.data.results;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst getMovieDetails = async id => {\n  try {\n    const response = await axios.get(`${BASE_URL}/movie/${id}`, {\n      params: {\n        api_key: APIKEY,\n      },\n    });\n    return await response.data;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst getMovieCredits = async id => {\n  try {\n    const response = await axios.get(`${BASE_URL}/movie/${id}/credits`, {\n      params: {\n        api_key: APIKEY,\n      },\n    });\n\n    return await response.data;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst getMovieReviews = async id => {\n  try {\n    const response = await axios.get(`${BASE_URL}/movie/${id}/reviews`, {\n      params: {\n        api_key: APIKEY,\n      },\n    });\n    return await response.data.results;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst Api = {\n  getTrendingMovies,\n  searchMovies,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n\nexport default Api;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__4ow+Z\",\"input\":\"Movies_input__KrUqs\",\"form__btn\":\"Movies_form__btn__rgtDa\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport css from './Movies.module.css';\nimport moviesListCss from '../../components/MoviesList/MoviesList.module.css';\nimport Api from 'components/Api/Api';\nimport Loader from 'components/Loader/Loader';\nimport { Notify } from 'notiflix';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieQuery = searchParams.get('query') ?? '';\n  const location = useLocation();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        setIsLoading(true);\n        const moviesList = await Api.searchMovies(movieQuery);\n\n        setMovies(moviesList);\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [setMovies, setIsLoading, movieQuery]);\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      setIsLoading(true);\n\n      const form = event.currentTarget;\n      const query = form.elements.query.value;\n\n      if (query === '') {\n        Notify.warning('Please, fill the main field');\n        return;\n      }\n\n      const moviesList = await Api.searchMovies(query.toLowerCase().trim());\n      if (moviesList.length === 0) {\n        Notify.failure('No movies found');\n      }\n      const nextParams = query !== '' ? { query } : {};\n      setSearchParams(nextParams);\n      setMovies(moviesList);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={css.form}>\n        <input type=\"text\" name=\"query\" className={css.input} />\n        <button type=\"submit\" className={css.form__btn}>\n          Search\n        </button>\n      </form>\n      {movies.length > 0 && (\n        <ul className={moviesListCss.movieList}>\n          {movies.map(({ id, title }) => (\n            <li key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      {isLoading && movies.length > 0 && <Loader />}\n    </>\n  );\n};\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MoviesList_movieList__8BnEE\"};"],"names":["BASE_URL","APIKEY","getTrendingMovies","axios","params","api_key","response","data","results","console","error","searchMovies","query","getMovieDetails","id","getMovieCredits","getMovieReviews","Api","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","movieQuery","get","location","useLocation","isLoading","setIsLoading","useEffect","moviesList","handleSubmit","event","preventDefault","form","currentTarget","elements","value","Notify","toLowerCase","trim","length","onSubmit","className","css","type","name","moviesListCss","map","title","to","state","from","Loader"],"sourceRoot":""}