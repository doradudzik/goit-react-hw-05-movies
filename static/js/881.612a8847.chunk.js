"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{26:function(e,r,t){var n=t(861),a=t(757),c=t.n(a),s=t(243),u="https://api.themoviedb.org/3",o="775c071d6bf771d9c27bbbe414ac595c",i=function(){var e=(0,n.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/trending/movie/day"),{params:{api_key:o}});case 3:return r=e.sent,e.next=6,r.data.results;case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/search/movie"),{params:{api_key:o,query:r}});case 3:return t=e.sent,e.next=6,t.data.results;case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/movie/").concat(r),{params:{api_key:o}});case 3:return t=e.sent,e.next=6,t.data;case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/movie/").concat(r,"/credits"),{params:{api_key:o}});case 3:return t=e.sent,e.next=6,t.data;case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat(u,"/movie/").concat(r,"/reviews"),{params:{api_key:o}});case 3:return t=e.sent,e.next=6,t.data.results;case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}(),h={getTrendingMovies:i,searchMovies:p,getMovieDetails:v,getMovieCredits:l,getMovieReviews:f};r.Z=h},155:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(87),a="MoviesList_movieList__8BnEE",c=t(184),s=function(e){var r=e.movies,t=e.location,s=e.path;return(0,c.jsx)("ul",{className:a,children:r.map((function(e){var r=e.title,a=e.original_title,u=e.id;return(0,c.jsx)("li",{children:(0,c.jsx)(n.rU,{to:"".concat(s).concat(u),state:{from:t},children:r||a})},u)}))})}},881:function(e,r,t){t.r(r),t.d(r,{default:function(){return _}});var n=t(861),a=t(439),c=t(757),s=t.n(c),u=t(791),o=t(87),i=t(689),p="Movies_form__4ow+Z",v="Movies_input__KrUqs",l="Movies_form__btn__rgtDa",f=t(26),h=t(809),m=t(686),d=t(155),x=t(184),_=function(){var e,r=(0,u.useState)([]),t=(0,a.Z)(r,2),c=t[0],_=t[1],w=(0,o.lr)(),Z=(0,a.Z)(w,2),g=Z[0],k=Z[1],y=null!==(e=g.get("query"))&&void 0!==e?e:"",b=(0,i.TH)(),M=(0,u.useState)(!1),j=(0,a.Z)(M,2),N=j[0],q=j[1];(0,u.useEffect)((function(){(0,n.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.next=4,f.Z.searchMovies(y);case 4:r=e.sent,_(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.prev=11,q(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}),[_,q,y]);var C=function(){var e=(0,n.Z)(s().mark((function e(r){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),e.prev=1,q(!0),t=r.currentTarget,""!==(n=t.elements.query.value)){e.next=8;break}return m.Notify.warning("Please, fill the main field"),e.abrupt("return");case 8:return e.next=10,f.Z.searchMovies(n.toLowerCase().trim());case 10:0===(a=e.sent).length&&m.Notify.failure("No movies found"),k(""!==n?{query:n}:{}),_(a),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error(e.t0);case 20:return e.prev=20,q(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(r){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("form",{onSubmit:C,className:p,children:[(0,x.jsx)("input",{type:"text",name:"query",className:v}),(0,x.jsx)("button",{type:"submit",className:l,children:"Search"})]}),c.length>0&&(0,x.jsx)(d.Z,{movies:c,location:b,path:""}),N&&c.length>0&&(0,x.jsx)(h.Z,{})]})}}}]);
//# sourceMappingURL=881.612a8847.chunk.js.map