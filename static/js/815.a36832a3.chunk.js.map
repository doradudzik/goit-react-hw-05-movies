{"version":3,"file":"static/js/815.a36832a3.chunk.js","mappings":"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","sources":["components/Api/Api.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","webpack://react-homework-template/./src/components/BackLink/BackLink.module.css?aa43","components/BackLink/BackLink.jsx","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst APIKEY = '775c071d6bf771d9c27bbbe414ac595c';\n\nconst getTrendingMovies = async () => {\n  try {\n    const response = await axios.get(`${BASE_URL}/trending/movie/day`, {\n      params: {\n        api_key: APIKEY,\n      },\n    });\n\n    return await response.data.results;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst searchMovies = async query => {\n  try {\n    const response = await axios.get(`${BASE_URL}/search/movie`, {\n      params: {\n        api_key: APIKEY,\n        query,\n      },\n    });\n\n    return await response.data.results;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst getMovieDetails = async id => {\n  try {\n    const response = await axios.get(`${BASE_URL}/movie/${id}`, {\n      params: {\n        api_key: APIKEY,\n      },\n    });\n    return await response.data;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst getMovieCredits = async id => {\n  try {\n    const response = await axios.get(`${BASE_URL}/movie/${id}/credits`, {\n      params: {\n        api_key: APIKEY,\n      },\n    });\n\n    return await response.data;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst getMovieReviews = async id => {\n  try {\n    const response = await axios.get(`${BASE_URL}/movie/${id}/reviews`, {\n      params: {\n        api_key: APIKEY,\n      },\n    });\n    return await response.data.results;\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nconst Api = {\n  getTrendingMovies,\n  searchMovies,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n\nexport default Api;\n","// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"MovieDetails_movieDetails__EbgQo\",\"moviePoster\":\"MovieDetails_moviePoster__V6U6u\",\"additionalInf\":\"MovieDetails_additionalInf__w4YCr\"};","// extracted by mini-css-extract-plugin\nexport default {\"backBtn\":\"BackLink_backBtn__P7uN+\"};","import { Link } from 'react-router-dom';\nimport css from './BackLink.module.css';\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <button className={css.backBtn}>\n      <Link to={to}>{children}</Link>\n    </button>\n  );\n};\n","import { Suspense, useEffect, useState, useRef } from 'react';\nimport { Link, useParams, Outlet, useLocation } from 'react-router-dom';\nimport css from './MovieDetails.module.css';\nimport Api from 'components/Api/Api';\nimport noImg from './images/noimg.jpg';\nimport { BackLink } from 'components/BackLink/BackLink';\nimport Loader from 'components/Loader/Loader';\n\nconst MovieDetails = () => {\n  const { id } = useParams();\n\n  const [movieDetails, setMovieDetails] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const movie = await Api.getMovieDetails(id);\n\n        setMovieDetails([movie]);\n      } catch (err) {\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [setMovieDetails, setIsLoading, id]);\n\n  return (\n    <div>\n      {!isLoading && <BackLink to={backLinkHref.current}>Go back</BackLink>}\n      {movieDetails.map(\n        ({\n          id,\n          poster_path,\n          title,\n          original_title,\n          release_date,\n          vote_average,\n          overview,\n          genres,\n        }) => (\n          <div key={id}>\n            <div className={css.movieDetails}>\n              <div className={css.moviePoster}>\n                <img\n                  src={\n                    poster_path\n                      ? `https://image.tmdb.org/t/p/original${poster_path}`\n                      : noImg\n                  }\n                  alt={title ? title + ' poster' : original_title + ' poster'}\n                  loading=\"lazy\"\n                  className={css.movieImg}\n                />\n              </div>\n              <div>\n                <h3>\n                  {title ? title : original_title}(\n                  {release_date ? release_date.slice(0, 4) : 'No date'})\n                </h3>\n                <p>User score: {vote_average}</p>\n                <div>\n                  <h5>Overview</h5>\n                  <p>{overview ? overview : 'There is no overview'}</p>\n                </div>\n                <div>\n                  <h5>Genres</h5>\n                  {genres && genres.length > 0 ? (\n                    <p>{genres.map(genre => genre.name).join(', ')}</p>\n                  ) : (\n                    <p>No genres available</p>\n                  )}\n                </div>\n              </div>\n            </div>\n            {!isLoading && (\n              <div className={css.additionalInf}>\n                <p>Additional information</p>\n                <ul>\n                  <li>\n                    {' '}\n                    <Link to=\"cast\">Cast</Link>\n                  </li>\n                  <li>\n                    <Link to=\"reviews\">Reviews</Link>\n                  </li>\n                </ul>\n              </div>\n            )}\n          </div>\n        )\n      )}\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n      <Loader isLoading={isLoading} />\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["BASE_URL","APIKEY","getTrendingMovies","axios","params","api_key","response","data","results","console","error","searchMovies","query","getMovieDetails","id","getMovieCredits","getMovieReviews","Api","BackLink","to","children","className","css","useParams","useState","movieDetails","setMovieDetails","isLoading","setIsLoading","location","useLocation","backLinkHref","useRef","state","from","useEffect","movie","current","map","poster_path","title","original_title","release_date","vote_average","overview","genres","src","noImg","alt","loading","slice","length","genre","name","join","Suspense","fallback","Loader"],"sourceRoot":""}